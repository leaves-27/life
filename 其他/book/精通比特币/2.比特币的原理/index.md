# 知识结构关系
交易---区块---挖矿----区块链

# 比特币系统的组成
1.用户----密钥----钱包
2.交易----在比特币网络中被广播
3.矿工----通过竞争计算生成在每个节点达成共识的区块链
4.区块链---可信区块的链

# 交易
## 交易的业务类型
1.一对二：一个输入和两个输出。即付钱、收钱、找零的应用场景
2.多对一：多个输入到一个输出。即很多硬币和纸币零钱兑换为一个大额面钞的场景。
3.一对多：一个输入分配给多个输出。即公司给员工发工资的场景。

## 交易的产生及其流转过程
用户----密钥----钱包---构建交易---交易在网络中传播---构建新区块---验证新区块---将新区块添加到区块链

## 交易的构建
1.获取正确的输入：一般通过不同服务者提供的api来获取
2.创建交易输出：交易的输出会被创建成为一个包含这笔数额的脚本的形式.即交易的输出是接受b账号的签名的a账号的输出脚本.

## 交易的传播
任何比特币网络节点（其它客户端）收到一个之前没见过的有效交易时会立刻将它转发给联接到自身的其它节点。这样，这个交易就能迅速地从P2P网络中传播开来，几秒内就能到达大多数节点。

## 交易添加到区块链
很多个交易被放入一个区块，然后需要经过挖矿验证才可以添加到区块链中。

# 挖矿
挖矿过程：一个新的交易----临时的未经验证的交易池---很多个新的交易---构建一个新区块----进行工作量证明-----证明后或者收到一个新区块即利用该区块进行下一个新区开的构建并开始新的工作量证明

1.工作量证明包含的的是新人，每次的工作量证明都会伴随着信任的叠加和新比特币的产生。
2.决定一个交易是否被从交易池中拿出来构建新区块是按交易费用高的优先或则其它的一些规则进行排序的。
3.按惯例来说，一个区块获得六次以上“证明”时就被认为是不可撤销的了.