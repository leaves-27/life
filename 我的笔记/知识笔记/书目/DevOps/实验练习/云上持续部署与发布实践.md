# 目录
1.购买弹性云服务器
2.搭建华为云CodeArts凤凰城项目

## 1.购买弹性云服务器
1.进入弹性云服务器页面
2.创建弹性云服务器


## 2.搭建华为云CodeArts凤凰城项目
1.新建项目
2.代码开发

3.代码检查
4.构建应用

5.部署应用
6.配置流水线

### 1.新建项目
1.开通CodeArts服务
2.创建凤凰商城样例项目
3.设置创建项目者
4.新增一个需求

### 2.代码开发
1.修改store-network.html文件
2.修改index.html文件
3.修改Dockerfile.j2文件

### 3.代码检查
1.配置并执行代码检查任务
2.查看代码检查结果

### 4.构建应用
1.配置SWR服务
2.配置并执行编译构建任务

### 5.部署应用
1.创建主机集群
2.向部署主机中安装依赖工具
3.配置并执行应用部署任务
4.验证部署结果

#### 1.创建主机集群
1.创建主机集群：设置--通用设置--基础资源管理---新建主机集群、输入主机集群相关信息：名称、操作系统、主机连通方式、执行主机、保存主机集群信息
2.向集群添加主机信息：切换到“目标主机”页面--点击“添加或导入主机”---在弹出的窗口中选中已经购买的弹性云服务器---点击导入---输入主机授权信息: 用户名、密码、端口--确定。

#### 2.向部署主机中安装依赖工具
1.新建要部署的应用：
(1)配置要部署的应用的基本信息：切换到“凤凰商城”项目---持续交付---部署--新建应用--输入应用基本信息：名称、所属项目、执行主机----下一步；
(1)配置要部署的应用的环境：新建环境：选中空白模板----环境管理----新建环境---输入环境信息:名称、资源类型、操作系统----保存
(2)配置要部署的应用的主机：切换到资源列表---选择主机集群---选择主机--导入

2.配置部署依赖：切换到部署步骤-----选中所有步骤----搜索“docker”---选中“安装或卸载Docker”---添加docker相关信息（环境下拉列表中选择phoenix-hostgroup）--同理添加执行shell命令----保存并部署。

#### 3.配置并执行应用部署任务
1.新建应用：持续交付----部署----选中对应应用----更多---编辑--“环境管理”---新建环境-----导入主机
2.配置部署依赖：选择部署来源--解压文件-执行shell命令
3.配置参数：获取参数（在控制台搜索SWR--选中容器镜像服务SWR--在总览的右上角选中“登录指令”--拷贝相关登录指令信息）--填写到相关参数---保存并部署
  
#### 4.验证部署结果
在搜索框输入ECS---选中弹性云服务ECS--在列表页面点击ecs-deploy查看详情---在详情中获取到其公网ip地址。然后使用采用http+ip+端口进行访问各应用(http://ip:端口号)。

### 6.配置流水线
1.创建流水线
2.运行流水线
3.配置质量门禁

#### 1.创建流水线
1.创建流水线基本信息：持续交付---流水线---新建流水线---输入流水线信息：名称、代码源(常见有github、码云、repo、通用Git)、创建方式、代码仓(即代码仓库地址)、默认分支、其他--下一步
2.系统模板：选择新手上路---点击确定
3.在流水线编排页，分别添加对应阶段的需要调用的服务--确定。

#### 2.运行流水线
保存并执行--执行

#### 3.配置质量门禁
1.流水线详情页---编辑---代码检查---准出条件---“标准策略准测条件”---"CodeArtsCheck问题数<=10"--确定--保存并执行--执行
2.流水线执行历史

